{% for msg in messages %}
<div class="flex flex-col {{ 'items-end' if msg.user_id == current_user.id else 'items-start' }} space-y-1">
    <div class="flex items-center gap-2 {{ 'flex-row-reverse' if msg.user_id == current_user.id else '' }}">
        <span class="text-[8px] font-bold opacity-40 uppercase tracking-tighter">
            {{ msg.user.username }}
            {% if msg.user.is_verified %}[V]{% endif %}
        </span>
        <span class="text-[7px] opacity-20 font-bold">{{ msg.timestamp.strftime('%H:%M') }}</span>
    </div>
    
    <div class="noir-border px-4 py-2 text-xs font-bold {{ 'bg-accent text-black dark:text-white border-accent' if msg.user_id == current_user.id else 'bg-[var(--bg-alt)] opacity-80' }}">
        {{ msg.message }}
    </div>
</div>
{% endfor %}
