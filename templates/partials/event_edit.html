<div id="event-{{ event.id }}" class="noir-border bg-[var(--bg-alt)] p-8 space-y-8">
    <form hx-headers='{"X-CSRFToken": "{{ csrf_token() }}"}' hx-post="{{ url_for('schedule.update_event', event_id=event.id) }}" hx-target="#event-{{ event.id }}" hx-swap="outerHTML" class="space-y-8">
        <h2 class="text-xl font-bold mono-display uppercase border-b noir-border pb-2">Modify_Temporal_Point</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div class="md:col-span-2 space-y-2">
                <label class="block text-[10px] font-bold opacity-50 uppercase tracking-widest">Subject_Identifier</label>
                <input type="text" name="title" value="{{ event.title }}" required class="noir-input w-full font-bold">
            </div>
            
            <div class="space-y-2">
                <label class="block text-[10px] font-bold opacity-50 uppercase tracking-widest">Entry_Point (START)</label>
                <input type="datetime-local" name="start_time" value="{{ event.start_time.strftime('%Y-%m-%dT%H:%M') }}" required class="noir-input w-full text-xs">
            </div>
            
            <div class="space-y-2">
                <label class="block text-[10px] font-bold opacity-50 uppercase tracking-widest">Exit_Point (END)</label>
                <input type="datetime-local" name="end_time" value="{{ event.end_time.strftime('%Y-%m-%dT%H:%M') }}" required class="noir-input w-full text-xs">
            </div>
            
            <div class="md:col-span-2 space-y-2" x-data="{ recurrence: '{{ event.recurrence }}' }">
                <label class="block text-[10px] font-bold opacity-50 uppercase tracking-widest">Cycle_Recurrence</label>
                <select name="recurrence" x-model="recurrence" class="noir-input w-full text-xs bg-transparent font-bold">
                    <option value="none">SINGULAR_OCCURRENCE</option>
                    <option value="daily">CYCLE_24H (DAILY)</option>
                    <option value="weekly">CYCLE_07D (WEEKLY)</option>
                    <option value="monthly">CYCLE_30D (MONTHLY)</option>
                    <option value="custom">USER_DEFINED_RECURRENCE</option>
                </select>
    
                <div x-show="recurrence === 'custom'" class="mt-6 noir-border bg-accent/5 border-dashed space-y-4">
                    <label class="block text-[9px] font-bold opacity-50 uppercase">Active_Nodes (DAYS):</label>
                    <div class="flex flex-wrap gap-4">
                        {% set days = ['MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT', 'SUN'] %}
                        {% set selected_days = event.recurrence_days.split(',') if event.recurrence_days else [] %}
                        {% for i in range(7) %}
                        <label class="inline-flex items-center group cursor-pointer">
                            <input type="checkbox" name="recurrence_days" value="{{ i }}" class="w-4 h-4 accent-accent"
                            {% if i|string in selected_days %}checked{% endif %}>
                            <span class="ml-2 text-[10px] font-bold group-hover:text-accent transition-colors">{{ days[i] }}</span>
                        </label>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>

        <div class="flex justify-end gap-6 pt-4">
            <button type="button" hx-get="{{ url_for('schedule.get_event_item', event_id=event.id) }}" hx-target="#event-{{ event.id }}" hx-swap="outerHTML" 
                    class="text-[10px] font-bold opacity-50 hover:opacity-100 uppercase underline">Abort</button>
            <button type="submit" class="noir-button px-12 py-3">UPDATE_LOG</button>
        </div>
    </form>
</div>
