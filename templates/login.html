{% extends "base.html" %}

{% block content %}
<div class="min-h-[80vh] flex items-center justify-center">
    <div class="max-w-md w-full noir-border bg-[var(--bg-alt)] p-10 space-y-8">
        <div class="text-center space-y-2">
            <h2 class="text-4xl font-bold mono-display tracking-tighter uppercase">SYS_ACCESS</h2>
            <p class="text-[10px] font-bold opacity-50 tracking-widest uppercase">Identity_Verification_Required</p>
        </div>

        <form method="POST" class="space-y-8">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <div class="space-y-6">
                <div class="space-y-2">
                    <label class="block text-[10px] font-bold opacity-50 uppercase tracking-widest" for="username">User_ID</label>
                    <input class="noir-input w-full font-bold" id="username" name="username" type="text" required placeholder="UID_INPUT_">
                </div>
                <div class="space-y-2">
                    <label class="block text-[10px] font-bold opacity-50 uppercase tracking-widest" for="password">Pass_Key</label>
                    <input class="noir-input w-full font-bold" id="password" name="password" type="password" required placeholder="KEY_INPUT_">
                </div>
            </div>

            <div class="flex flex-col gap-4">
                <button class="noir-button w-full py-4 text-sm tracking-[0.2em]" type="submit">
                    INIT_SESSION
                </button>
                <div class="flex justify-between items-center px-1">
                    <span class="text-[9px] font-bold opacity-30 uppercase tracking-tighter">New_User?</span>
                    <a class="text-[9px] font-bold text-accent uppercase tracking-widest hover:border-b border-accent" href="{{ url_for('auth.signup') }}">
                        Create_New_Profile
                    </a>
                </div>
            </div>
        </form>
        
        <div class="pt-4 border-t noir-border opacity-10 flex justify-between">
            <span class="text-[8px] font-bold">MODO_V.2.6</span>
            <span class="text-[8px] font-bold">STBL_0x83</span>
        </div>
    </div>
</div>

{% if request.args.get('updating') %}
<div class="fixed inset-0 z-[100] flex items-center justify-center bg-black p-4">
    <div class="max-w-md w-full text-center space-y-8">
        <div class="dot-matrix-row justify-center">
            {% for i in range(10) %}
                <div class="w-3 h-3 bg-accent animate-pulse" style="animation-delay: {{ i * 0.1 }}s"></div>
            {% endfor %}
        </div>
        <div class="space-y-2">
            <h1 class="text-4xl font-bold text-white mono-display tracking-tighter">SYSTEM_REBOOT</h1>
            <p class="text-accent font-bold text-xs uppercase tracking-[0.3em]">Critical_Update_In_Progress</p>
        </div>
        <div class="noir-border border-accent p-6 bg-accent/5">
            <p class="text-white/60 text-[10px] leading-relaxed font-bold uppercase tracking-widest">
                The terminal is undergoing a scheduled firmware optimization. 
                Data integrity is preserved. The session will automatically 
                re-initialize once the sequence completes.
            </p>
        </div>
        <script>
            setTimeout(() => { window.location.href = "{{ url_for('auth.login') }}"; }, 10000);
        </script>
    </div>
</div>
{% endif %}
{% endblock %}
